(this["webpackJsonpzaiem-portfolio"]=this["webpackJsonpzaiem-portfolio"]||[]).push([[0],{34:function(e,s,t){},44:function(e,s,t){},46:function(e,s,t){},69:function(e,s,t){},70:function(e,s,t){},71:function(e,s,t){"use strict";t.r(s);var r=t(0),n=t.n(r),a=t(12),c=t.n(a),l=t(10),i=(t(44),t(14)),o=t.n(i),d=t(19),j=t(5),u=t(2),b=(t(46),t(74)),p=t(1),v=function(e){var s=e.variant,t=e.children;return Object(p.jsx)(b.a,{variant:s,children:t})};v.defaultProps={varinat:"info"};var h=v,O=t(21),x=t.n(O),m=t(73),g=function(e){var s=e.size;return Object(p.jsx)(m.a,{animation:"border",role:"status",style:{width:s||"100px",height:s||"100px",margin:"auto",display:"block"},children:Object(p.jsx)("span",{className:"sr-only"})})},f=function(e){var s,t,n,a,c,l,i=e.user,b=e.setUser,v=Object(r.useState)({success:!1,error:null,loading:!1}),O=Object(j.a)(v,2),m=O[0],f=O[1],N=null===i||void 0===i||null===(s=i.user)||void 0===s?void 0:s._id,_=Object(u.f)(),y=Object(r.useRef)(),k=Object(r.useRef)(),w=Object(r.useRef)(),S=Object(r.useRef)(),D=Object(r.useRef)();Object(r.useEffect)((function(){var e;(null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.name)||_("/login")}),[i,_]);var E=function(){var e=Object(d.a)(o.a.mark((function e(s){var t,r,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),t={name:y.current.value,gender:w.current.value,age:k.current.value,dob:D.current.value,mobile:S.current.value},f({success:!1,error:null,loading:!0}),r={headers:{"Content-Type":"application/json"}},n="https://eshop-backend-pro.herokuapp.com/api/users/".concat(N,"/update"),e.prev=5,e.next=8,x.a.put(n,t,r);case 8:a=e.sent,(c=a.data)&&(b({loading:!1,user:c,error:null}),localStorage.setItem("userData",JSON.stringify(c)),f({loading:!1,success:!0,error:null})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),f({loading:!1,success:!1,error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(s){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"homepage",children:[Object(p.jsxs)("div",{className:"home__wrapper",children:[Object(p.jsxs)("div",{className:"left",children:[Object(p.jsx)("h2",{className:"left__title",children:"User Info"}),Object(p.jsxs)("div",{className:"user__info",children:[Object(p.jsxs)("div",{className:"username user",children:[Object(p.jsx)("span",{children:"Name : "}),Object(p.jsx)("span",{children:null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.name})]}),Object(p.jsxs)("div",{className:"age user",children:[Object(p.jsx)("span",{children:"Age : "}),Object(p.jsx)("span",{children:(null===i||void 0===i||null===(n=i.user)||void 0===n?void 0:n.age)||"Not Mentioned"})]}),Object(p.jsxs)("div",{className:"gender user",children:[Object(p.jsx)("span",{children:"Gender : "}),Object(p.jsx)("span",{children:(null===i||void 0===i||null===(a=i.user)||void 0===a?void 0:a.gender)||"Not Mentioned"})]}),Object(p.jsxs)("div",{className:"dob user",children:[Object(p.jsx)("span",{children:"Date Of Birth : "}),Object(p.jsx)("span",{children:(null===i||void 0===i||null===(c=i.user)||void 0===c?void 0:c.dob)||"Not Mentioned"})]}),Object(p.jsxs)("div",{className:"mobile user",children:[Object(p.jsx)("span",{children:"Mobile : "}),Object(p.jsx)("span",{children:(null===i||void 0===i||null===(l=i.user)||void 0===l?void 0:l.mobile)||"Not Mentioned"})]})]})]}),Object(p.jsxs)("div",{className:"right",children:[Object(p.jsx)("h2",{className:"update__title",children:"Update Profile (Zaiem)"}),Object(p.jsxs)("form",{onSubmit:E,className:"update",children:[Object(p.jsx)("input",{type:"text",placeholder:"Name",ref:y}),Object(p.jsx)("input",{type:"text",placeholder:"Age",ref:k}),Object(p.jsx)("input",{type:"text",placeholder:"Gender",ref:w}),Object(p.jsx)("input",{type:"text",placeholder:"Mobile",ref:S}),Object(p.jsx)("input",{type:"text",placeholder:"Date of Birth",ref:D}),m.loading?Object(p.jsx)(g,{size:"30px"}):Object(p.jsx)("button",{type:"submit",children:"Update"})]})]})]}),m.error&&Object(p.jsx)("div",{className:"update__error",children:Object(p.jsx)(h,{variant:"danger",children:m.error})})]})},N=(t(34),function(e){var s=e.loginHandler,t=e.user,n=Object(r.useRef)(),a=Object(r.useRef)(),c=Object(u.f)();Object(r.useEffect)((function(){var e;(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.name)&&c("/")}),[t,c]);return Object(p.jsxs)("div",{className:"login",children:[Object(p.jsx)("h1",{className:"login__title",children:"Login"}),Object(p.jsx)("div",{className:"login__wrapper",children:Object(p.jsxs)("form",{onSubmit:function(e){var t={email:n.current.value,password:a.current.value};s("login",t),e.preventDefault()},children:[Object(p.jsx)("input",{type:"text",placeholder:"Enter Your Email",ref:n}),Object(p.jsx)("input",{type:"password",placeholder:"Enter Your Password",ref:a}),t.loading?Object(p.jsx)(g,{size:"30px"}):Object(p.jsx)("button",{className:"submit",type:"submit",disabled:t.loading,children:"Login"})]})}),Object(p.jsx)("div",{className:"error__info",children:t.error&&Object(p.jsx)(h,{variant:"danger",children:t.error})}),Object(p.jsx)("div",{className:"login__info",children:Object(p.jsxs)("span",{children:["Don't have an account ? ",Object(p.jsx)(l.b,{to:"/register",children:"Register"})," here."," "]})})]})}),_=function(e){var s=e.loginHandler,t=e.user,n=Object(u.f)(),a=Object(r.useRef)(),c=Object(r.useRef)(),i=Object(r.useRef)();return Object(r.useEffect)((function(){var e;(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.name)&&n("/")}),[t,n]),Object(p.jsxs)("div",{className:"login",children:[Object(p.jsx)("h1",{className:"login__title",children:"Register"}),Object(p.jsx)("div",{className:"login__wrapper",children:Object(p.jsxs)("form",{onSubmit:function(e){var t={name:i.current.value,email:a.current.value,password:c.current.value};s("register",t),e.preventDefault()},children:[Object(p.jsx)("input",{type:"text",placeholder:"Enter Your Name",ref:i}),Object(p.jsx)("input",{type:"text",placeholder:"Enter Your Email",ref:a}),Object(p.jsx)("input",{type:"password",placeholder:"Enter Your Password",ref:c}),t.loading?Object(p.jsx)(g,{size:"30px"}):Object(p.jsx)("button",{className:"submit",type:"submit",children:"Sign Up"})]})}),t.error&&Object(p.jsx)("div",{className:"error__info",children:Object(p.jsx)(h,{variant:"danger",children:t.error})}),Object(p.jsx)("div",{className:"login__info",children:Object(p.jsxs)("span",{children:["Already have an account ? ",Object(p.jsx)(l.b,{to:"/login",children:"Login"})," here."," "]})})]})},y=(t(69),function(e){var s,t,r=e.setUser,n=e.user;return Object(p.jsx)("div",{className:"navbar",children:Object(p.jsxs)("div",{className:"nav__wrapper",children:[Object(p.jsx)("div",{className:"nav__left",children:Object(p.jsxs)("div",{className:"nav__logo",children:[Object(p.jsx)("i",{class:"fas fa-store-alt"}),Object(p.jsxs)("h2",{className:"nav__title",children:[" ",Object(p.jsx)("span",{children:!(null===n||void 0===n?void 0:n.loading)&&(null===n||void 0===n||null===(s=n.user)||void 0===s?void 0:s.name)})]})]})}),Object(p.jsxs)("div",{className:"nav__center",children:[Object(p.jsxs)("ul",{className:"nav__link__container",children:[Object(p.jsx)(l.c,{to:"/",style:{textDecoration:"none",color:"lightgray"},activeclassname:"active-link",children:Object(p.jsx)("li",{className:"nav__link",children:"Home Page"})}),!n.user&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.c,{to:"/login",style:{textDecoration:"none",color:"lightgray"},activeclassname:"active-link",children:Object(p.jsx)("li",{className:"nav__link",children:"Login"})}),Object(p.jsx)(l.c,{to:"/register",style:{textDecoration:"none",color:"lightgray"},activeclassname:"active-link",children:Object(p.jsx)("li",{className:"nav__link",children:"Sign Up"})})]})]}),(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.name)&&Object(p.jsx)("button",{className:"nav__link logout",onClick:function(){r({user:null}),localStorage.removeItem("userData")},children:"Logout"})]}),Object(p.jsxs)("div",{className:"nav__right",children:[Object(p.jsx)("i",{className:"fas fa-search"}),Object(p.jsx)("i",{className:"fas fa-shopping-cart"}),Object(p.jsx)("i",{className:"fas fa-user"})]})]})})});var k=function(){var e=JSON.parse(localStorage.getItem("userData"))||null,s=Object(r.useState)({user:e,error:null,loading:!1}),t=Object(j.a)(s,2),n=t[0],a=t[1],c=function(){var e=Object(d.a)(o.a.mark((function e(s,t){var r,n,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="login"===s?"https://eshop-backend-pro.herokuapp.com/api/users/login":"https://eshop-backend-pro.herokuapp.com/api/users/register",n={headers:{"Content-Type":"application/json"}},a({loading:!0,user:null,error:null}),t.email&&t.password){e.next=6;break}return a({loading:!1,user:null,error:"Enter Name, Email and Password."}),e.abrupt("return");case 6:return e.prev=6,e.next=9,x.a.post(r,t,n);case 9:c=e.sent,(l=c.data)&&(a({loading:!1,user:l,error:null}),localStorage.setItem("userData",JSON.stringify(l))),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),a({loading:!1,user:null,error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}),console.log(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(s,t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"main",children:[Object(p.jsx)(y,{setUser:a,user:n}),Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{path:"/",element:Object(p.jsx)(f,{user:n,setUser:a})}),Object(p.jsx)(u.a,{path:"/login",element:Object(p.jsx)(N,{loginHandler:c,user:n})}),Object(p.jsx)(u.a,{path:"/register",element:Object(p.jsx)(_,{loginHandler:c,user:n})})]})]})};t(70);c.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(l.a,{children:Object(p.jsx)(k,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.7318dc67.chunk.js.map